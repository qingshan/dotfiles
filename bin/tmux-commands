#!/usr/bin/env bash

clusters() {
    test -d ~/.dsh/group && ls ~/.dsh/group | tr ' ' "\n"  | sort | uniq | awk '{print "tmux-cssh", $1 }'
}

servers() {
  test -f ~/.ssh/config && cat ~/.ssh/config | grep "^Host " | awk '{print $2}' | grep -v "*" | awk '{print "ssh", $1}'
}

search() {
  clusters
  servers
}

search | fzf --layout=reverse --no-sort --prompt '  ' --pointer='➤ ' --marker='➤'
